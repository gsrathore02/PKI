#Certificate Authority
#Generate key pair ca.key
openssl  genrsa -out ca.key 2048

#generate public key
openssh rsa -in ca.key -pubout > ca.pem

#Gererate Certificate Signing Request
openssl req -new -key ca.key -subj "/CN=KUBERNETES_CA"  -out ca.scr

#Sign Certificates
openssh x509 -req -in ca.csr -signkey ca.key -out ca.crt

#####################################################
##Generate Client Certificate for admin user
openssl genrsa -out admin.key 2048


openssl req -new -key admin.key -subj "/CN=admin"  -out admin.scr

#sign Certificate
openssl x509 -req -in admin.csr -CA ca.crt -CAkey ca.key -out admin.crt 
